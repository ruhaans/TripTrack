{# templates/accounts/resend_verification.html #}
{% extends "base.html" %}
{% block title %}Verify your email · TripTrack{% endblock %}

{% block content %}
<div class="flex items-center justify-center min-h-[60vh] py-12 px-4 animate-fade-in">
  <section class="mx-auto w-full max-w-md text-center">
    
    <div class="bg-white dark:bg-slate-800/50 rounded-2xl shadow-xl dark:shadow-2xl border border-slate-200 dark:border-slate-700 p-6 sm:p-8">
      
      <div class="flex justify-center mb-4">
        {% if is_verified %}
          <div class="w-16 h-16 rounded-full bg-emerald-100 dark:bg-emerald-900/50 flex items-center justify-center text-emerald-500 dark:text-emerald-400">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z" /></svg>
          </div>
        {% else %}
          <div class="w-16 h-16 rounded-full bg-amber-100 dark:bg-amber-900/50 flex items-center justify-center text-amber-500 dark:text-amber-400">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M21.75 6.75v10.5a2.25 2.25 0 01-2.25 2.25h-15a2.25 2.25 0 01-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0019.5 4.5h-15a2.25 2.25 0 00-2.25 2.25m19.5 0v.243a2.25 2.25 0 01-1.07 1.916l-7.5 4.615a2.25 2.25 0 01-2.36 0L3.32 8.91a2.25 2.25 0 01-1.07-1.916V6.75" /></svg>
          </div>
        {% endif %}
      </div>

      <h1 class="text-2xl sm:text-3xl font-heading font-semibold text-slate-900 dark:text-slate-100">
        {% if is_verified %}
          Email Verified
        {% else %}
          Verify Your Email
        {% endif %}
      </h1>
      
      <p class="text-slate-600 dark:text-slate-400 mt-2">
        Email on your account: <strong class="text-slate-800 dark:text-slate-200">{{ email }}</strong>
      </p>

      <div class="mt-4">
        {% if is_verified %}
          <p class="text-sm text-emerald-800 dark:text-emerald-300 bg-emerald-100 dark:bg-emerald-900/50 border border-emerald-200 dark:border-emerald-500/30 rounded-lg px-4 py-3">
            Your email is already verified. You're all set!
          </p>
        {% else %}
          <p class="text-sm text-amber-800 dark:text-amber-300 bg-amber-100 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-500/30 rounded-lg px-4 py-3">
            A verification link is required to secure your account and join trips.
          </p>
        {% endif %}
      </div>

      <form method="post" class="mt-4">
        {% csrf_token %}
        <button
          type="submit"
          class="w-full py-3 rounded-xl text-sm font-semibold tween
                 {% if is_verified %}
                   bg-slate-200 dark:bg-slate-700 text-slate-500 dark:text-slate-400 cursor-not-allowed
                 {% else %}
                   bg-amber-500 hover:bg-amber-600 text-white shadow-button
                 {% endif %}"
          {% if is_verified %}disabled{% endif %}
        >
          {% if is_verified %}All Verified{% else %}Send Verification Email{% endif %}
        </button>
      </form>

      {% if not is_verified %}
        <div class="mt-4 text-xs text-slate-500 dark:text-slate-400">
          <p>Didn’t receive the email? Check your spam folder, or try sending it again.</p>
        </div>
      {% endif %}
    </div>

    <div class="mt-6">
      <a href="{% url 'trips:home' %}" class="text-sm font-medium text-slate-600 dark:text-slate-300 hover:text-brand-600 dark:hover:text-brand-400 hover:underline tween">
        ← Back to Home
      </a>
    </div>
  </section>
</div>
{% endblock %}